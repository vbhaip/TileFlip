{"version":3,"sources":["reportWebVitals.js","Visualization.js","App.js","MoreInfo.js","Router.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Visualization","props","state","data","interval","ready","existingBlobs","time","updateVis","bind","computeNextState","computeVal","computeNeighbors","mod","floatToGrayscale","floatToHSL","refresh","setup","drawChart","flipItem","addGifItem","gif","GIF","workers","quality","repeat","workerScript","process","debug","this","edgeLength","size","i","push","index","x","y","Math","floor","color","animate","invert","store","setState","margin","top","bottom","left","right","xScale","d3","domain","range","yScale","squareLength","Object","entries","initdata","forEach","key","val","parseInt","parseFloat","e","console","log","viscontainer","selectAll","filter","d","transition","duration","refreshRate","ease","attr","a","b","up","down","rawleft","rawright","upleft","downleft","Number","toString","slice","round","prevState","map","item","tempitem","neighbors","ctx","upright","downright","board","value","ones","length","zeroes","corners","sides","floatToColor","resolution","t","rule","isNaN","updateVisDiscreteFlip","svg","id","remove","append","outerthis","enter","isMobile","on","isDown","play","setTimeout","prevProps","toExport","toFixed","setExportInitData","JSON","stringify","URL","revokeObjectURL","setGifURL","frames","render","blob","gifURL","createObjectURL","type","concat","img","Image","serialized","XMLSerializer","serializeToString","node","Blob","url","onload","addFrame","delay","copy","src","React","Component","App","handleRuleChangeAce","updateResolution","handlePlayChange","shareURL","updateRefresh","setStateFromQuery","progressExample","rawquery","window","location","search","hash","includes","indexOf","query","qs","parse","fetch","response","text","examples","split","curr_example","keys","editorVal","base64url","decode","code","initrule","getFunctionFromString","exportInitData","viswidth","innerWidth","editorwidth","fontSize","innerHeight","newExampleInd","replace","error","f","params","encode","exportQs","currURL","newURL","lastIndexOf","history","pushState","prompt","className","style","theme","palette","lightText","main","fontFamily","typography","Slider","defaultValue","valueLabelDisplay","step","marks","min","max","width","onChange","Button","variant","onClick","target","href","download","disabled","mode","name","showPrintMargin","showGutter","highlightActiveLine","height","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets","showLineNumbers","tabSize","withTheme","MoreInfo","marginLeft","marginRight","plugins","gfm","textAlign","marginTop","createMuiTheme","primary","secondary","warning","black","Router","exact","path","ThemeProvider","ReactDOM","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.595d063d.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport * as d3 from 'd3';\nimport GIF from 'gif.js';\n\nclass Visualization extends React.Component {\n  // props\n  // this.edgeLength = edge length of number of shapes per side\n  // id\n  // this.size = pixel length\n\n  constructor (props) {\n    super(props);\n\n    this.state = {\n      data: [],\n      interval: null,\n      ready: false,\n      existingBlobs: [],\n      time: 0\n    };\n\n    this.updateVis = this.updateVis.bind(this);\n    this.computeNextState = this.computeNextState.bind(this);\n    this.computeVal = this.computeVal.bind(this);\n    this.computeNeighbors = this.computeNeighbors.bind(this);\n    this.mod = this.mod.bind(this);\n    this.floatToGrayscale = this.floatToGrayscale.bind(this);\n    this.floatToHSL = this.floatToHSL.bind(this);\n    this.refresh = this.refresh.bind(this);\n    this.setup = this.setup.bind(this);\n    this.drawChart = this.drawChart.bind(this);\n    this.flipItem = this.flipItem.bind(this);\n    this.addGifItem = this.addGifItem.bind(this);\n\n    this.setup();\n    this.refresh();\n\n    this.gif = new GIF({\n      workers: 3,\n      quality: 1,\n      repeat: 0,\n      workerScript: process.env.PUBLIC_URL + '/gif.worker.js',\n      debug: true\n    });\n\n    \n  }\n\n  setup () {\n    //sets up data and necessary scales for creating the chart\n    //if initial data already exists, uses that information\n    const data = [];\n\n    this.edgeLength = this.props.edgeLength;\n    this.size = this.props.size;\n\n    for (let i = 0; i < this.edgeLength ** 2; i++) {\n      data.push({\n        index: i,\n        x: i % this.edgeLength,\n        y: Math.floor(i / this.edgeLength),\n        state: 0,\n        color: '',\n        animate: false,\n        invert: false,\n        store: {}\n      });\n    }\n\n    this.setState({ data: data, time: 0 });\n\n    this.margin = { top: this.edgeLength * 0.1, bottom: this.edgeLength * 0.1, left: this.edgeLength * 0.1, right: this.edgeLength * 0.1 };\n\n    this.xScale = d3.scaleLinear()\n      .domain([0, this.edgeLength])\n      .range([this.margin.left, this.size - this.margin.right]);\n\n    this.yScale = d3.scaleLinear()\n      .domain([0, this.edgeLength])\n      .range([this.margin.top, this.size - this.margin.bottom]);\n\n    this.squareLength = this.size / this.edgeLength;\n\n    // adjust vals for init data\n    Object.entries(this.props.initdata).forEach(([key, val]) => {\n      try {\n        data[parseInt(key)].state = parseFloat(val);\n      } catch (e) {\n        console.log(e);\n      }\n    });\n\n    return data;\n  }\n\n  updateVis () {\n    // called after every time step to update the visualization with new values\n\n    // for elements that want to transition\n    this.viscontainer\n      .selectAll('.main-rect')\n      .data(this.state.data)\n    // .attr(\"fill\", (d,i) => {return this.floatToGrayscale(d.state)})\n      .filter((d, i) => d.animate)\n      .transition()\n      .duration((d, i) => {\n        return this.props.refreshRate;\n      })\n      .ease(d3.easeLinear)\n      .attr('fill', (d, i) => {\n        return d.color === '' ? 'black' : d.color;\n      })\n      .attr('fill-opacity', (d, i) => { return !d.invert ? d.state : 1 - d.state; });\n\n    // for elements to just discretely turn on and off\n    this.viscontainer\n      .selectAll('.main-rect')\n      .data(this.state.data)\n    // .attr(\"fill\", (d,i) => {return this.floatToGrayscale(d.state)})\n      .filter((d, i) => !d.animate)\n      .attr('fill', (d, i) => {\n        return d.color === '' ? 'black' : d.color;\n      })\n      .attr('fill-opacity', (d, i) => { return !d.invert ? d.state : 1 - d.state; });\n  }\n\n  updateVisDiscreteFlip () {\n    // when the user manually flips a tile, this discretely flips\n    // different from updateVis to ensure that this is a discrete flip rather than\n    // animated\n\n    this.viscontainer\n      .selectAll('.main-rect')\n      .data(this.state.data)\n      .attr('fill', (d, i) => {\n        return d.color === '' ? 'black' : d.color;\n      })\n      .attr('fill-opacity', (d, i) => { return !d.invert ? d.state : 1 - d.state; });\n  }\n\n  computeVal (index) {\n    // computes state for given index\n    if (index < 0 || index >= this.edgeLength ** 2) {\n      return -1;\n    } else {\n      return this.state.data[index].state;\n    }\n  }\n\n  mod (a, b) {\n    // needed otherwise negative num % positive num is negative\n    // ex. -1 % 8  = -1\n    return ((a % b) + b) % b;\n  }\n\n  computeNeighbors (index) {\n    // returns state of neighbors in array starting at topleft\n    // edge neighbors wrap to other side\n\n    const up = this.computeVal(this.mod((index - this.edgeLength), (this.edgeLength ** 2)));\n    const down = this.computeVal(this.mod((index + this.edgeLength), (this.edgeLength ** 2)));\n\n    const rawleft = index % this.edgeLength === 0 ? index + this.edgeLength - 1 : index - 1;\n    const left = this.computeVal(rawleft);\n\n    const rawright = (index + 1) % this.edgeLength === 0 ? index - this.edgeLength + 1 : index + 1;\n    const right = this.computeVal(rawright);\n\n    const upleft = this.computeVal(this.mod((rawleft - this.edgeLength), (this.edgeLength ** 2)));\n    const downleft = this.computeVal(this.mod((rawleft + this.edgeLength), (this.edgeLength ** 2)));\n\n    const upright = this.computeVal(this.mod((rawright - this.edgeLength), (this.edgeLength ** 2)));\n    const downright = this.computeVal(this.mod((rawright + this.edgeLength), (this.edgeLength ** 2)));\n\n    return [upleft, up, upright, right, downright, down, downleft, left];\n  }\n\n  floatToGrayscale (val) {\n    // returns grayscale color based off float 0-1\n    // https://stackoverflow.com/questions/16179713/converting-float-values-to-a-grayscale-hex-color-value\n    const dec = 255 * (1 - val);\n    const encoding = ('0' + Number(parseInt(dec, 10)).toString(16)).slice(-2);\n    return '#' + encoding.repeat(3);\n  }\n\n  floatToHSL (val) {\n    // returns hsl color based off float 0-1\n    return 'hsl(' + Math.round(360 * (val % 1)) + ', 100%, 50%)';\n  }\n\n  computeNextState () {\n    // computes values for data at next iteration of time step\n    this.setState((prevState) => {\n      const newState = prevState.data.map((item, index) => {\n        const tempitem = { ...item };\n\n        const neighbors = this.computeNeighbors(index);\n\n        const ctx = {};\n\n        ctx.upleft = neighbors[0];\n        ctx.up = neighbors[1];\n        ctx.upright = neighbors[2];\n        ctx.right = neighbors[3];\n        ctx.downright = neighbors[4];\n        ctx.down = neighbors[5];\n        ctx.downleft = neighbors[6];\n        ctx.left = neighbors[7];\n\n        ctx.neighbors = neighbors;\n        ctx.board = prevState.data.map(x => x.state);\n\n        ctx.value = item.state;\n        ctx.ones = neighbors.filter(x => x === 1).length;\n        ctx.zeroes = neighbors.filter(x => x === 0).length;\n        ctx.corners = neighbors.filter((x, i) => { return x === 1 && (i % 2 === 0); }).length;\n        ctx.sides = neighbors.filter((x, i) => { return x === 1 && (i % 2 === 1); }).length;\n\n        ctx.index = index;\n        ctx.x = item.x;\n        ctx.y = item.y;\n        ctx.color = tempitem.color;\n\n        ctx.floatToColor = this.floatToHSL;\n\n        ctx.resolution = this.props.edgeLength;\n\n        ctx.t = prevState.time;\n\n        ctx.store = item.store;\n\n        const value = this.props.rule(ctx);\n\n        if (typeof value === 'number' && !isNaN(value)) {\n          tempitem.state = value;\n        } else {\n          // this accounts if they directly set ctx.value\n          tempitem.state = ctx.value;\n        }\n\n        if (typeof value === 'boolean') {\n          tempitem.state = value ? 1 : 0;\n        }\n\n        if (ctx.color !== '') {\n          tempitem.color = ctx.color;\n        } else {\n          tempitem.color = '';\n        }\n\n        if (ctx.animate === true) {\n          tempitem.animate = true;\n        } else {\n          tempitem.animate = false;\n        }\n\n        if (ctx.invert === true) {\n          tempitem.invert = true;\n        } else {\n          tempitem.invert = false;\n        }\n\n        return tempitem;\n      });\n\n      return { data: newState, time: prevState.time + 1 };\n    });\n  }\n\n  flipItem (d) {\n    // flipping item manually, calls discrete fliip\n    this.setState((prevState) => {\n      const newState = prevState.data.map((item, index) => {\n        if (index === d.index) {\n          const tempitem = { ...item };\n\n          if (tempitem.state < 0.5) {\n            tempitem.state = 1;\n          } else {\n            tempitem.state = 0;\n          }\n\n          return tempitem;\n        } else {\n          return item;\n        }\n      });\n\n      return { data: newState };\n    });\n    this.updateVisDiscreteFlip();\n  }\n\n  drawChart () {\n    //initial drawing of chart\n\n    // get data right away so we dont have to worry about async issues\n\n    this.data = this.setup();\n\n    this.svg = d3.select('#' + this.props.id)\n      .attr('width', this.size)\n      .attr('height', this.size);\n \n    this.svg.selectAll('g').remove();\n    this.svg.selectAll('rect').remove();\n\n    this.viscontainer = this.svg.append('g');\n\n    const outerthis = this;\n\n\n    // background color\n    this.viscontainer\n      .append('g')\n      .selectAll('.background-rect')\n      .data(this.data)\n      .enter()\n      .append('rect')\n      .attr('class', 'background-rect')\n      .attr('fill', (d, i) => { return 'white'; })\n      .attr('stroke-width', 2)\n      .attr('stroke', 'black')\n      .attr('x', (d, i) => this.xScale(d.x))\n      .attr('y', (d, i) => this.yScale(d.y))\n      .attr('rx', (d, i) => this.squareLength * 0.2)\n      .attr('ry', (d, i) => this.squareLength * 0.2)\n      .attr('width', this.squareLength)\n      .attr('height', this.squareLength);\n\n    // main rect color\n    this.viscontainer\n      .append('g')\n      .selectAll('.main-rect')\n      .data(this.data)\n      .enter()\n      .append('rect')\n      .attr('class', 'main-rect')\n      .attr('id', (d, i) => d.index)\n    // .attr(\"fill\", (d,i) => {return d.state ? \"black\" : \"white\"})\n      .attr('fill', (d, i) => { return d.color === '' ? 'black' : d.color; })\n      .attr('fill-opacity', (d, i) => { return d.state; })\n      .attr('stroke-width', 2)\n      .attr('stroke', 'black')\n      .attr('x', (d, i) => this.xScale(d.x))\n      .attr('y', (d, i) => this.yScale(d.y))\n      .attr('rx', (d, i) => this.squareLength * 0.2)\n      .attr('ry', (d, i) => this.squareLength * 0.2)\n      .attr('width', this.squareLength)\n      .attr('height', this.squareLength);\n\n    if (!this.props.isMobile) {\n      this.viscontainer.selectAll('.main-rect')\n        .on('mousedown', (e, d) => {\n          outerthis.isDown = true;\n\n          outerthis.flipItem(d);\n        })\n        .on('mouseup', (e, d) => {\n          outerthis.isDown = false;\n        })\n        .on('mouseover', (e, d) => {\n          if (outerthis.isDown) {\n            outerthis.flipItem(d);\n          }\n        });\n    } else {\n      this.viscontainer.selectAll('.main-rect')\n        .on('touchstart', (e, d) => {\n          outerthis.isDown = true;\n\n          outerthis.flipItem(d);\n        })\n        .on('touchend', (e, d) => {\n          outerthis.isDown = false;\n        });\n      // figure out how to do touchmove and still flip the other tiles\n    }\n\n    // avoids when you click down on vis but move mouse out\n    d3.select('body')\n      .on('mouseup', (e, d) => {\n        outerthis.isDown = false;\n      });\n\n    this.setState({ ready: true });\n  }\n\n  componentDidMount () {\n    // draw chart once the component mounts so we can access svg\n    this.drawChart();\n  }\n\n  refresh () {\n    // sets the timer for the refresh rate and calls the steps\n    if (this.props.play && this.state.ready) {\n      this.addGifItem();\n      this.computeNextState();\n      this.updateVis();\n    }\n\n    setTimeout(this.refresh, this.props.refreshRate);\n  }\n\n  componentDidUpdate (prevProps) {\n    // deals with when we change some props that affects the visualization\n\n    if (this.props.edgeLength !== prevProps.edgeLength) {\n      this.drawChart();\n    }\n\n    if (this.props.play !== prevProps.play && this.props.play) {\n      // we just switched the button on\n      const toExport = {};\n      for (let i = 0; i < this.state.data.length; i++) {\n        if (this.state.data[i].state !== 0) {\n          toExport[i] = this.state.data[i].state.toFixed(2);\n        }\n      }\n\n      this.props.setExportInitData(JSON.stringify(toExport));\n\n      this.gif = new GIF({\n\t    workers: 3,\n\t    quality: 1,\n\t    repeat: 0,\n\t    workerScript: process.env.PUBLIC_URL + '/gif.worker.js',\n\t    debug: true\n\t  });\n\n      this.state.existingBlobs.map((item) => {\n        URL.revokeObjectURL(item);\n      });\n\n      this.setState({\n        existingBlobs: [],\n        time: 0\n      });\n\n      this.props.setGifURL('');\n    }\n\n    if (this.props.play !== prevProps.play && !this.props.play) {\n      if (this.gif.frames.length > 0) {\n        this.gif.render();\n\n        const outerthis = this;\n\n        this.gif.on('finished', function (blob) {\n          const gifURL = (URL.createObjectURL(blob, { type: 'image/gif' }));\n\n          outerthis.setState((prevState) => {\n\t\t\t    return { existingBlobs: prevState.existingBlobs.concat(gifURL) };\n          });\n\n\t\t    outerthis.props.setGifURL(gifURL);\n        });\n      }\n    }\n\n  }\n\n  addGifItem () {\n    //add gif image to the gif we're maintaining\n\n    if (this.state.existingBlobs.length > 50) {\n      return;\n    }\n\n    // https://gist.github.com/veltman/1071413ad6b5b542a1a3\n    const img = new Image();\n    const serialized = new XMLSerializer().serializeToString(this.svg.node());\n    const svg = new Blob([serialized], { type: 'image/svg+xml' });\n    const url = URL.createObjectURL(svg);\n\n    this.setState((prevState) => {\n      return { existingBlobs: prevState.existingBlobs.concat(url) };\n\t    });\n\n    const outerthis = this;\n    // Onload, callback to move on to next frame\n    img.onload = function () {\n    \touterthis.gif.addFrame(img, {\n        delay: outerthis.props.refreshRate,\n\t\t    copy: true\n      });\n    };\n\n    img.src = url;\n  }\n\n  render () {\n    return (\n\t\t\t<svg id={this.props.id} key={this.props.edgeLength}>\n\t\t\t</svg>\n    );\n  }\n}\n\nexport default Visualization;\n","import './App.css';\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Slider from '@material-ui/core/Slider';\nimport Visualization from './Visualization';\nimport { withTheme } from '@material-ui/core/styles';\nimport { isMobile } from 'react-device-detect';\n\nimport AceEditor from 'react-ace';\n\nimport 'ace-builds/src-noconflict/mode-javascript';\nimport 'ace-builds/src-noconflict/theme-monokai';\n// import \"ace-builds/src-noconflict/ext-language_tools\"\n\nimport 'ace-builds/webpack-resolver';\n\nimport qs from 'qs';\n\nimport base64url from 'base64url';\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props);\n    this.handleRuleChangeAce = this.handleRuleChangeAce.bind(this);\n    this.updateResolution = this.updateResolution.bind(this);\n    this.handlePlayChange = this.handlePlayChange.bind(this);\n    this.setExportInitData = this.setExportInitData.bind(this);\n    this.shareURL = this.shareURL.bind(this);\n    this.setGifURL = this.setGifURL.bind(this);\n    this.updateRefresh = this.updateRefresh.bind(this);\n    this.setStateFromQuery = this.setStateFromQuery.bind(this);\n    this.progressExample = this.progressExample.bind(this);\n\n\n    this.rawquery = window.location.search.slice(1);\n\n    if (this.rawquery === '' && window.location.hash.includes('?')) {\n      this.rawquery = window.location.hash;\n      this.rawquery = this.rawquery.slice(this.rawquery.indexOf('?') + 1);\n    }\n\n    this.query = qs.parse(this.rawquery);\n\n    fetch(process.env.PUBLIC_URL + '/examples.txt')\n      .then(response => response.text())\n      .then((text) => {\n        this.examples = text.split('\\n\\n');\n\n        // get rid of label at the beginning\n        this.examples = this.examples.map((item) => item.slice(item.indexOf(':') + 1));\n\n        this.curr_example = 0;\n\n        // no parameters means load example\n        if (Object.keys(this.query).length === 0) {\n          const query = qs.parse(this.examples[this.curr_example]);\n          this.setStateFromQuery(query);\n        }\n\n        this.setState({ curr_example: 0, examples: this.examples });\n      });\n\n    // defaults\n    this.refreshRate = 1000;\n    this.edgeLength = 10;\n    this.editorVal = `function rule(ctx){\n\n  }`;\n    this.play = false;\n    this.initdata = [];\n\n    if ('refreshRate' in this.query) {\n      this.refreshRate = parseInt(this.query.refreshRate);\n    }\n    if ('resolution' in this.query) {\n      this.edgeLength = parseInt(this.query.resolution);\n    }\n    if ('code' in this.query) {\n      this.editorVal = base64url.decode(this.query.code);\n    }\n    if ('play' in this.query && this.query.play === 'true') {\n      this.play = true;\n    }\n    if ('state' in this.query) {\n      try {\n        this.initdata = JSON.parse(this.query.state);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    // this.state = {'rule': }\n\n    this.initrule = this.getFunctionFromString(this.editorVal);\n\n    this.state = {\n      rule: this.initrule,\n      edgeLength: this.edgeLength,\n      play: this.play,\n      editorVal: this.editorVal,\n      refreshRate: this.refreshRate,\n      exportInitData: '',\n      gifURL: ''\n    };\n\n\n    this.state.initdata = this.initdata;\n\n    //adjust sizes of elements if mobile\n    if (isMobile) {\n      this.viswidth = window.innerWidth * 0.65;\n      this.editorwidth = window.innerWidth * 0.7;\n      this.fontSize = 10;\n    } else {\n      this.viswidth = window.innerHeight * 0.4;\n      this.editorwidth = window.innerWidth * 0.4;\n      this.fontSize = 14;\n    }\n  }\n\n  setStateFromQuery (query) {\n    /*\n    takes a query in the form of a dictionary and\n    sets the state accordingly\n    */\n\n    if ('refreshRate' in query) {\n      this.setState({ refreshRate: parseInt(query.refreshRate) });\n    }\n    if ('resolution' in query) {\n      this.setState({ edgeLength: parseInt(query.resolution) });\n    }\n    if ('code' in query) {\n      const editorVal = base64url.decode(query.code);\n      this.setState({ editorVal: editorVal });\n      this.setState({ rule: this.getFunctionFromString(editorVal) });\n    }\n    if ('play' in query && query.play === 'true') {\n      this.setState({ play: true });\n    } else if ('play' in query && query.play === 'false') {\n      this.setState({ play: false });\n    }\n    if ('state' in query && query.state.length > 0) {\n      try {\n        this.setState({ initdata: JSON.parse(query.state) });\n      } catch (e) {\n        console.log(e);\n      }\n    } else {\n      // if no state is set\n      this.initdata = {};\n      for (let i = 0; i < this.edgeLength ** 2; i++) {\n        this.initdata[i] = 0;\n      }\n      this.setState({ initdata: this.initdata });\n    }\n  }\n\n  progressExample () {\n    // iterates through examples on button press\n    this.setState((prevState) => {\n      const newExampleInd = (prevState.curr_example + 1) % prevState.examples.length;\n      this.setStateFromQuery(qs.parse(prevState.examples[newExampleInd]));\n      return { curr_example: newExampleInd };\n    });\n  }\n\n  setExportInitData (val) {\n    this.setState({\n      exportInitData: val\n    });\n  }\n\n  updateRefresh (e, val) {\n    this.setState({\n      refreshRate: val\n    });\n  }\n\n  getFunctionFromString (val) {\n    // given a string, gets an according function that it corresponds to\n    try {\n      const f = new Function('x', `\n        try{\n          // ${val.replace(/\\n/g, '')};\n          let f = ${val}\n\n          return f(x);\n        }\n        catch(error){\n          return error;\n        }\n        `);\n      // let f = null;\n\n      return f;\n      // this.setState({'rule': f});\n    } catch (error) {\n      console.log(error);\n    }\n\n    if (!this.state) {\n      return new Function('x', 'return null;');\n    }\n\n    // return whatever is existing as a rule\n    return this.state.rule;\n  }\n\n  handleRuleChangeAce (val) {\n    // when editor changes it's text, finds the corresponding function\n    this.setState({ editorVal: val });\n\n    const f = this.getFunctionFromString(val);\n\n    this.setState({ rule: f });\n  }\n\n  updateResolution (e, val) {\n    this.setState({\n      edgeLength: val,\n      initdata: []\n    });\n  }\n\n  handlePlayChange (e) {\n    this.setState((prevState) => {\n      return ({\n        play: !prevState.play\n      });\n    });\n  }\n\n  shareURL () {\n    //exports current parameters into query string\n    const params = {};\n\n    params.refreshRate = this.state.refreshRate;\n    params.play = true;\n    params.resolution = this.state.edgeLength;\n    params.code = base64url.encode(this.state.editorVal);\n    params.state = this.state.exportInitData;\n\n    const exportQs = qs.stringify(params);\n\n    let currURL = window.location.toString();\n\n    currURL = currURL.slice(0, currURL.lastIndexOf('/'));\n\n    const newURL = currURL + '?' + exportQs;\n\n    window.history.pushState('', '', newURL);\n\n    window.prompt('Copy to share (Ctrl+C, Enter)', newURL);\n  }\n\n  setGifURL (item) {\n    this.setState({ gifURL: item });\n  }\n\n  // temp(e){\n  //   document.getElementsByClassName(\"ace_text-input\")[0]\n  //     .innerHTML = \"hi\"\n  // }\n\n  render () {\n    return (\n      <div className=\"App\">\n\n        <div id='vis-container'>\n          { isMobile &&\n            <div>\n            <p>(Scroll down for the editor!)</p>\n            </div>\n          }\n\n          <Visualization id=\"viz\" edgeLength={this.state.edgeLength} size={this.viswidth} rule={this.state.rule}\n           play={this.state.play} refreshRate={this.state.refreshRate} initdata={this.state.initdata}\n           setExportInitData={this.setExportInitData} setGifURL={this.setGifURL}\n           isMobile={isMobile}/>\n\n           <p style={{\n             color: this.props.theme.palette.lightText.main,\n             fontFamily: this.props.theme.typography.fontFamily\n           }}>\n              Refresh Rate (ms)\n           </p>\n\n           <Slider\n            defaultValue={this.refreshRate}\n            valueLabelDisplay=\"auto\"\n            step={100}\n            marks\n            min={100}\n            max={2000}\n            value={this.state.refreshRate}\n            style={{ width: '50%' }}\n            onChange={this.updateRefresh}\n           />\n\n           <p style={{\n             color: this.props.theme.palette.lightText.main,\n             fontFamily: this.props.theme.typography.fontFamily\n           }}>\n              Resolution\n           </p>\n\n          <Slider\n            defaultValue={this.edgeLength}\n            valueLabelDisplay=\"auto\"\n            step={1}\n            marks\n            min={4}\n            max={20}\n            value={this.state.edgeLength}\n            onChange={this.updateResolution}\n            style={{ width: '50%' }}/>\n\n          <br/>\n          <br/>\n\n            <Button variant=\"contained\" color=\"primary\" onClick={this.handlePlayChange}>\n              {this.state.play ? 'Pause' : 'Play'}\n            </Button>\n\n          <br/>\n          <br/>\n          <Button variant=\"contained\" color=\"primary\" onClick={this.shareURL}>\n              Share URL\n            </Button>\n\n          <br/>\n          <br/>\n\n          <a target=\"_blank\" href={this.state.gifURL === '' ? false : this.state.gifURL} download=\"evolution.gif\" style={{ color: 'inherit', 'text-decoration': 'none' }}>\n            <Button variant=\"contained\" color=\"primary\" download={this.state.gifURL} disabled={this.state.gifURL === ''}\n            target=\"_blank\">\n                {this.state.gifURL !== '' ? 'Download as GIF' : 'GIF not ready'}\n              </Button>\n          </a>\n\n        </div>\n\n        <div id='controls-container'>\n\n          <AceEditor\n            // placeholder=\"Placeholder Text\"\n            mode=\"javascript\"\n            theme=\"monokai\"\n            name=\"editor\"\n            // onLoad={this.handleRuleChangeAce}\n            onChange={this.handleRuleChangeAce}\n            fontSize={this.fontSize}\n            showPrintMargin={true}\n            showGutter={true}\n            highlightActiveLine={true}\n            value={this.state.editorVal}\n            height={window.innerHeight * 0.5}\n            setOptions={{\n              enableBasicAutocompletion: true,\n              enableLiveAutocompletion: true,\n              enableSnippets: false,\n              showLineNumbers: !isMobile,\n              showGutter: !isMobile,\n              tabSize: 2\n            }}\n\n            width={this.editorwidth + 'px'}\n\n            />\n\n            <Button variant=\"contained\" color=\"primary\" onClick={this.progressExample}>\n              Next Example\n            </Button>\n\n            <br/>\n            <br/>\n\n            <Button variant=\"contained\" color=\"secondary\" href=\"#help\">\n              Help/More Info\n            </Button>\n\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default withTheme(App);\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport gfm from 'remark-gfm';\nimport Button from '@material-ui/core/Button';\nimport { isMobile } from 'react-device-detect';\n\nclass MoreInfo extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = { text: '' };\n\n    fetch(process.env.PUBLIC_URL + '/info.md')\n      .then(response => response.text())\n      .then((text) => {\n        this.setState({ text: text });\n      });\n\n    if (isMobile) {\n      this.margin = 10;\n    } else {\n      this.margin = 20;\n    }\n  }\n\n  render () {\n    return (\n\t\t<div style={{ marginLeft: this.margin + 'vw', marginRight: this.margin + 'vw', color: 'white' }}>\n\t\t\t<ReactMarkdown plugins={[gfm]}>\n\t\t\t\t{this.state.text}\n\t\t\t</ReactMarkdown>\n\n\t\t\t<div style={{ textAlign: 'center', marginTop: '2vh' }}>\n\t\t\t<Button variant=\"contained\" color=\"primary\" href=\"#\">\n              Back\n            </Button>\n            </div>\n\t\t</div>);\n  }\n}\n\nexport default MoreInfo;\n","import React from 'react';\nimport App from './App';\nimport MoreInfo from './MoreInfo';\nimport { createMuiTheme, ThemeProvider, withTheme } from '@material-ui/core/styles';\n\nimport {\n  // BrowserRouter,\n  HashRouter,\n  Switch,\n  Route\n  // Link,\n  // useLocation\n} from 'react-router-dom';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#9B6A6C'\n    },\n    secondary: {\n      main: '#6DC0D5'\n    },\n    error: {\n    \tmain: '#c1666b'\n    },\n    warning: {\n    \tmain: '#d4b843'\n    },\n    black: {\n    \tmain: '#020202'\n    },\n    lightText: {\n    \tmain: '#F7F0F5'\n    }\n  },\n  typography: {\n  \tfontFamily: \"'Oswald'\"\n  }\n});\n\nclass Router extends React.Component {\n  render () {\n    return (\n\n\t\t\t<HashRouter>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t\t<App/>\n\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/help\">\n\t\t\t\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t\t\t\t<MoreInfo/>\n\t\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</HashRouter>\n    );\n  }\n}\n\nexport default withTheme(Router);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n// import App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport Router from './Router';\n\n// import Router from './Router'\n\n// https://stackoverflow.com/questions/58282540/why-is-a-github-page-url-changing-on-load-causing-the-public-resource-path-to-b\nconst routerBaseName = process.env.PUBLIC_URL;\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={routerBaseName} />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}